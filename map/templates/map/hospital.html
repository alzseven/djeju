<html>
	<head>
		<meta charset="utf-8"/>
		<title>안심병원 위치</title>
	</head>
	<body>
		{% load static %}
		<div id="map" style="width:100%;height:100%;"></div>
		<script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=4e63037725e2b7837bb5c426532533f0"></script>
		<script>
			var _lat = parseFloat('{{ data.lat | escapejs }}'),
    			_lng = parseFloat('{{ data.lng | escapejs }}'),
				lvl = parseInt('{{ data.lvl | escapejs }}');

			var container = document.getElementById('map');
			var options = {
				center: new kakao.maps.LatLng(_lat, _lng),
				level: lvl
			};

			var data = JSON.parse('{{ data.hosdata | escapejs }}');

			var hos_data = [];
			for(var i=0; i<data.length; i++) {
			 	hos_data[i] = [	data[i].latitude,
			 					data[i].longtitude,
			 					data[i].yadmNm,
			 					data[i].telno];
			}

			var map = new kakao.maps.Map(container, options);

			// var markerImageSrc = "{% static 'maskcol.png' %}";
			
			for(var i=0;i<hos_data.length;i++){
			// 	if(str_data[i][3] != "break"){
			    var markerPosition  = new kakao.maps.LatLng(hos_data[i][0],hos_data[i][1]); 
			// 		var imageNum = 160;
			// 		switch (str_data[i][3]) {
			// 			case "plenty":
			// 				imageNum = 0;
			// 				break;
			// 			case "some":
			// 				imageNum = 40;
			// 				break;
			// 			case "few":
			// 				imageNum = 80;
			// 				break;
			// 			case "empty":
			// 				imageNum = 120;
			// 			default:
			// 				break;
			// 		}					
			// 		var imageSize = new kakao.maps.Size(22, 26),
			// 		imageOptions = {  
			// 			spriteOrigin: new kakao.maps.Point(0, imageNum),    
			// 			spriteSize: new kakao.maps.Size(40, 160)  
			// 		};     
			// 		var markerImage = createMarkerImage(markerImageSrc, imageSize, imageOptions),    
			 	var	marker = new kakao.maps.Marker({position: markerPosition});
			 	marker.setMap(map);
			// 	}
			// }
			// function createMarkerImage(src, size, options) {
			// 	var markerImage = new kakao.maps.MarkerImage(src, size, options);
			// 	return markerImage;            
			// }
			// function createMarker(position, image) {
			// 	var marker = new kakao.maps.Marker({
			// 		position: position,
			// 		image: image
			// 	});
			// 	return marker;  
			}  
	</script>
	</body>
</html>